import{u as S,a as T,o as c,c as l,b as t,p as k,d as v,e as w,f as C,r as p,g as b,w as g,v as y,t as f,h as $,n as N,i as u,F as I,j as A,k as V}from"./index.c37217b6.js";import{_ as m}from"./_plugin-vue_export-helper.cdc0426e.js";const B=s=>(k("data-v-ec425259"),s=s(),v(),s),J={class:"navbar bg-blackish",role:"navigation","aria-label":"main navigation"},z=B(()=>t("div",{class:"navbar-start"},[t("a",{href:"https://bulma.io"},[t("img",{src:"https://bulma.io/images/bulma-logo.png",width:"112",height:"28"})])],-1)),Y={class:"navbar-end"},Z={__name:"NavBar",setup(s){const a=S(),o=T();async function e(){try{await o.logout(),a.push({name:"login"})}finally{}}return(i,r)=>(c(),l("nav",J,[z,t("div",Y,[t("button",{onClick:r[0]||(r[0]=n=>e()),class:"button"},"Log out")])]))}},U=m(Z,[["__scopeId","data-v-ec425259"]]),j="https://dvpbspsdauggkqbrhbxs.supabase.co",O="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR2cGJzcHNkYXVnZ2txYnJoYnhzIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3NjkyNiwiZXhwIjoxOTgxNjUyOTI2fQ.87Br6uuVzkasAmSkKQhO2yYyQel2vE6yu3AvQqFbCo4",_=w(j,O),h=C("task",{state:()=>({task:[]}),actions:{async getTasks(){const{data:s,error:a}=await _.from("task").select("*").order("is_complete").order("id",{ascending:!1});return this.task=s,console.log(s),this.task},async editTask(s,a,o){try{const{data:e,error:i}=await _.from("task").update({title:s,description:a}).match({id:o})}catch(e){console.log("this is my error",e)}},async taskComplete(s,a){try{const{data:o,error:e}=await _.from("task").update({is_complete:!a}).match({id:s})}catch(o){console.log("this is my error",o)}},async addTask(s,a){await _.from("task").insert([{user_id:T().user.id,title:s,is_complete:!1,description:a}])},async deleteTask(s){await _.from("task").delete().eq("id",s)}},persist:{enabled:!0,strategies:[{key:"user",storage:localStorage}]}});const Q=s=>(k("data-v-77863795"),s=s(),v(),s),D={class:"task-component is-3 bg-white"},F=Q(()=>t("h2",null,"New task",-1)),L={class:"task-container"},X={class:"task-element"},q={class:"task-element"},M={__name:"TaskCreator",setup(s){const a=h(),o=p(""),e=p(""),i=r=>{r.preventDefault(),console.log("AQUIII",e.value),console.log("ALLAAAA",o.value),!e.value==""&&!o.value==""&&a.addTask(e.value,o.value),e.value="",o.value=""};return(r,n)=>(c(),l("div",D,[F,t("form",L,[t("div",X,[b(" Title "),g(t("input",{"onUpdate:modelValue":n[0]||(n[0]=d=>e.value=d),class:"text task-input bg-grey",placeholder:"Title"},null,512),[[y,e.value]])]),t("div",q,[b(" Description "),g(t("textarea",{"onUpdate:modelValue":n[1]||(n[1]=d=>o.value=d),class:"textarea task-input bg-grey",placeholder:"Write thing to do"},null,512),[[y,o.value]])]),t("div",{class:"task-button"},[t("button",{onClick:i,class:"button bg-blackish"},"Create")])])]))}},R=m(M,[["__scopeId","data-v-77863795"]]);const x=s=>(k("data-v-b1587885"),s=s(),v(),s),E={class:"task-delete"},G=x(()=>t("span",{class:"material-symbols-outlined"}," close ",-1)),H=[G],K={class:"task-info"},W={class:"task-title"},P={key:0,class:"material-symbols-outlined"},ss={key:1,class:"material-symbols-outlined"},ts={class:"title"},es={class:"task-content"},as={class:"description"},os={key:0,class:"task-actions"},ns=x(()=>t("button",null,[t("span",{class:"material-symbols-outlined"}," edit ")],-1)),cs=[ns],ls={__name:"Tasks",props:["task"],setup(s){const a=s,o=h(),e=p(!1),i=async()=>{await o.deleteTask(a.task.id),o.getTasks()};return(r,n)=>(c(),l("div",{class:"card is-3",style:N(e.value?{"background-color":"var(--grey)"}:{"background-color":"#ffffff"})},[t("div",E,[t("button",{onClick:n[0]||(n[0]=d=>i())},H)]),t("div",K,[t("div",W,[t("button",{onClick:n[1]||(n[1]=d=>e.value=!e.value)},[e.value?(c(),l("span",P," select_check_box ")):(c(),l("span",ss," check_box_outline_blank "))]),t("span",ts,f(a.task.title),1)]),t("div",es,[t("span",as,f(a.task.description),1)]),e.value?$("",!0):(c(),l("div",os,cs))])],4))}},is=m(ls,[["__scopeId","data-v-b1587885"]]),_s={__name:"Home",setup(s){const a=h();return a.getTasks(),(o,e)=>(c(),l(I,null,[u(U),t("section",null,[u(R),(c(!0),l(I,null,A(V(a).task,i=>(c(),l("div",null,[u(is,{task:i},null,8,["task"])]))),256))])],64))}};export{_s as default};
