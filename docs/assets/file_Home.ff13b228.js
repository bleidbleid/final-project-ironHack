import{u as D,a as L,r as R,o as l,c,b as t,d as T,w as M,p as C,e as S,f as H,g as y,h,v as f,n as _,t as N,i as b,F as I,j as P,k as U,l as j}from"./file_index.49a1afa2.js";import{_ as $}from"./file__plugin-vue_export-helper.e718e6fb.js";const F="/final-project-ironHack/logo.png";const G=r=>(C("data-v-28cb86e3"),r=r(),S(),r),Y={class:"navbar bg-blue sticky-0",role:"navigation","aria-label":"main navigation"},z={class:"navbar-start"},X=G(()=>t("img",{src:F,width:"64"},null,-1)),O={class:"navbar-end"},q={__name:"NavBar",setup(r){const e=D(),u=L();async function p(){try{await u.logout(),e.push({name:"login"})}finally{}}return(o,k)=>{const m=R("router-link");return l(),c("nav",Y,[t("div",z,[T(m,{to:{name:"home"}},{default:M(()=>[X]),_:1})]),t("div",O,[t("button",{onClick:k[0]||(k[0]=g=>p()),class:"button bg-grey"},"Log out")])])}}},J=$(q,[["__scopeId","data-v-28cb86e3"]]);const x=r=>(C("data-v-648806a2"),r=r(),S(),r),K={class:"task-component sticky-100 item1 bg-white"},Q=x(()=>t("h2",null,"New task",-1)),W={class:"task-container"},Z={class:"task-element"},tt=x(()=>t("span",{class:"font-sg"}," Title * ",-1)),et={class:"task-element"},st=x(()=>t("span",{class:"font-sg"}," Description * ",-1)),ot={class:"task-element"},at=x(()=>t("span",{class:"font-sg"}," Priority ",-1)),nt={class:"flex space-around mt-5"},it={__name:"TaskCreator",setup(r){const e=H(),u=y(""),p=y(""),o=y(0),k=async a=>(o.value=a,console.log(o.value),o.value),m=async a=>{a.preventDefault(),!p.value==""&&!u.value==""&&(await e.addTask(p.value,u.value,o.value),await e.getTasks(),p.value="",u.value="",o.value=0)};function g(a){var i=a.value;a.value="",a._baseScrollHeight=a.scrollHeight,a.value=i}function w({target:a}){if(!(!a.classList.contains("autoExpand")||!a.nodeName=="TEXTAREA")){var i=a.getAttribute("data-min-rows")|0,v;!a._baseScrollHeight&&g(a),a.rows=i,console.log("minrows",i),v=Math.ceil((a.scrollHeight-a._baseScrollHeight)/16),a.rows=i+v,console.log("elm.rows",a.rows),console.log("rows",v)}}return document.addEventListener("input",w),(a,i)=>(l(),c("aside",K,[Q,t("form",W,[t("div",Z,[tt,h(t("input",{"onUpdate:modelValue":i[0]||(i[0]=v=>p.value=v),class:"text task-input bg-grey",placeholder:"Title"},null,512),[[f,p.value]])]),t("div",et,[st,h(t("textarea",{"onUpdate:modelValue":i[1]||(i[1]=v=>u.value=v),class:"text task-input bg-grey autoExpand",name:"",id:"",rows:"3","data-min-rows":"3",placeholder:"New description"},null,512),[[f,u.value]])]),t("div",ot,[at,t("article",nt,[t("button",{class:_(["priority bg-grey border-green weight-regular font-lora",{bgGreen:o.value==1}]),value:"1",onClick:i[2]||(i[2]=v=>k(1))}," Low ",2),t("button",{class:_(["priority bg-grey border-yellow weight-regular font-lora",{bgYellow:o.value==2}]),value:"2",onClick:i[3]||(i[3]=v=>k(2))},"Medium",2),t("button",{class:_(["priority bg-grey border-red weight-regular font-lora",{bgRed:o.value==3}]),value:"3",onClick:i[4]||(i[4]=v=>k(3))},"High",2)])]),t("div",{class:"task-button"},[t("button",{onClick:m,class:"button bg-blue"},"Create")])])]))}},lt=$(it,[["__scopeId","data-v-648806a2"]]);const E=r=>(C("data-v-5fbd0cb7"),r=r(),S(),r),rt={class:"container"},ct={class:"task-delete"},ut={class:"task-info"},dt={key:0,class:"task-title"},_t={key:1},vt=E(()=>t("div",{class:"edit-element font-sg"}," Title ",-1)),pt={key:2},kt={key:0,class:"task-content"},gt={class:"description"},bt={key:3,class:"mt-16"},yt=E(()=>t("div",{class:"edit-element font-sg"}," Description ",-1)),mt={key:4,class:"mt-16"},wt=E(()=>t("div",{class:"edit-element font-sg"}," Priority ",-1)),ht={class:"flex space-around mt-5"},ft={key:5,class:"task-actions"},$t={key:1},xt={__name:"Tasks",props:{task:Object},setup(r){const e=r,u=H(),p=y(e.task.is_complete),o=y(!1),k=y(e.task.title),m=y(e.task.description);console.log(e.task.priority);const g=y(e.task.priority),w=async n=>(g.value=n,console.log(g.value),g.value),a=async()=>{await u.deleteTask(e.task.id),await u.getTasks()},i=async(n,s)=>{p.value=n,await u.completeTask(e.task.id,n),await u.getTasks(),console.log(s)};function v(n){var s=n.value;n.value="",n._baseScrollHeight=n.scrollHeight,n.value=s}function B({target:n}){if(!(!n.classList.contains("autoExpand")||!n.nodeName=="TEXTAREA")){var s=n.getAttribute("data-min-rows")|0,d;!n._baseScrollHeight&&v(n),n.rows=s,d=Math.ceil((n.scrollHeight-n._baseScrollHeight)/16),n.rows=s+d}}document.addEventListener("input",B);const V=()=>{o.value=!0},A=async()=>{await u.editTask(k.value,m.value,e.task.id),await u.getTasks(),o.value=!1};return(n,s)=>(l(),c("div",rt,[t("figure",null,[t("div",{class:_(["card",{bgRed:e.task.priority==3&&e.task.is_complete},{bgGreen:e.task.priority==1&&e.task.is_complete},{bgYellow:e.task.priority==2&&e.task.is_complete},{colorDone:!e.task.is_complete}])},[t("div",ct,[t("button",{onClick:s[0]||(s[0]=d=>a())},[t("span",{class:_(["material-symbols-outlined",{blue:e.task.priority==0}])}," close ",2)])]),t("div",ut,[o.value?b("",!0):(l(),c("div",dt,[e.task.is_complete?(l(),c("button",{key:1,onClick:s[2]||(s[2]=d=>i(!1,e.task.id))},[t("span",{class:_(["material-symbols-outlined",{blue:e.task.priority==0}])}," check_box_outline_blank ",2)])):(l(),c("button",{key:0,onClick:s[1]||(s[1]=d=>i(!0,e.task.id))},[t("span",{class:_(["material-symbols-outlined",{blue:e.task.priority==0}])}," check_box ",2)])),t("span",{class:_(["title",{textDone:!e.task.is_complete}])},N(e.task.title),3)])),o.value?(l(),c("div",_t,[vt,h(t("input",{"onUpdate:modelValue":s[3]||(s[3]=d=>k.value=d),class:"text task-input bg-grey",placeholder:"New title"},null,512),[[f,k.value]])])):b("",!0),o.value?b("",!0):(l(),c("div",pt,[e.task.is_complete?(l(),c("div",kt,[t("span",gt,N(e.task.description),1)])):b("",!0)])),o.value?(l(),c("div",bt,[yt,h(t("textarea",{"onUpdate:modelValue":s[4]||(s[4]=d=>m.value=d),class:"text task-input bg-grey autoExpand",name:"",id:"","data-min-rows":"3",placeholder:"New description"},null,512),[[f,m.value]])])):b("",!0),o.value?(l(),c("div",mt,[wt,t("article",ht,[t("button",{class:_(["priority bg-grey border-green weight-regular font-lora",{bgGreen:g.value==1,borderBlackish:g.value==1}]),value:"1",onClick:s[5]||(s[5]=d=>w(1))}," Low ",2),t("button",{class:_(["priority bg-grey border-yellow weight-regular font-lora",{bgYellow:g.value==2}]),value:"2",onClick:s[6]||(s[6]=d=>w(2))},"Medium",2),t("button",{class:_(["priority bg-grey border-red weight-regular font-lora",{bgRed:g.value==3}]),value:"3",onClick:s[7]||(s[7]=d=>w(3))},"High",2)])])):b("",!0),e.task.is_complete?(l(),c("div",ft,[o.value?b("",!0):(l(),c("button",{key:0,onClick:s[8]||(s[8]=d=>V())},[t("span",{class:_(["material-symbols-outlined",{blue:e.task.priority==0}])}," edit ",2)])),o.value?(l(),c("div",$t,[t("button",{onClick:s[9]||(s[9]=d=>A()),class:_(["button bg-blackish",{bgBlue:e.task.priority==0}])}," Apply ",2),t("button",{onClick:s[10]||(s[10]=d=>o.value=!o.value),class:_(["button blackish",{blue:e.task.priority==0}])}," Cancel ",2)])):b("",!0)])):b("",!0)])],2)])]))}},Tt=$(xt,[["__scopeId","data-v-5fbd0cb7"]]);const Ct={class:"flex"},St={class:"task-creator is-4"},Ht={class:"is-8 container"},Et={__name:"Home",setup(r){const e=H();return e.getTasks(),(u,p)=>(l(),c(I,null,[T(J,{class:"sticky-0 z-index"}),t("section",Ct,[t("div",St,[T(lt)]),t("div",Ht,[(l(!0),c(I,null,P(U(e).task,o=>(l(),j(Tt,{task:o,class:"task-div"},null,8,["task"]))),256))])])],64))}},Bt=$(Et,[["__scopeId","data-v-bbe60648"]]);export{Bt as default};
