import{u as S,a as T,o as c,c as l,b as t,p as k,d as v,e as w,f as $,r as p,g as b,w as g,v as f,t as y,n as C,h as u,F as I,i as N,j as A}from"./index.06f32110.js";import{_ as m}from"./_plugin-vue_export-helper.cdc0426e.js";const V=s=>(k("data-v-ec425259"),s=s(),v(),s),B={class:"navbar bg-blackish",role:"navigation","aria-label":"main navigation"},J=V(()=>t("div",{class:"navbar-start"},[t("a",{href:"https://bulma.io"},[t("img",{src:"https://bulma.io/images/bulma-logo.png",width:"112",height:"28"})])],-1)),z={class:"navbar-end"},Y={__name:"NavBar",setup(s){const a=S(),o=T();async function e(){try{await o.logout(),a.push({name:"login"})}finally{}}return(i,r)=>(c(),l("nav",B,[J,t("div",z,[t("button",{onClick:r[0]||(r[0]=n=>e()),class:"button"},"Log out")])]))}},Z=m(Y,[["__scopeId","data-v-ec425259"]]),U="https://dvpbspsdauggkqbrhbxs.supabase.co",j="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR2cGJzcHNkYXVnZ2txYnJoYnhzIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3NjkyNiwiZXhwIjoxOTgxNjUyOTI2fQ.87Br6uuVzkasAmSkKQhO2yYyQel2vE6yu3AvQqFbCo4",_=w(U,j),h=$("task",{state:()=>({task:[]}),actions:{async getTasks(){const{data:s,error:a}=await _.from("task").select("*").order("is_complete").order("id",{ascending:!1});return this.task=s,console.log(s),this.task},async editTask(s,a,o){try{const{data:e,error:i}=await _.from("task").update({title:s,description:a}).match({id:o})}catch(e){console.log("this is my error",e)}},async taskComplete(s,a){try{const{data:o,error:e}=await _.from("task").update({is_complete:!a}).match({id:s})}catch(o){console.log("this is my error",o)}},async addTask(s,a){await _.from("task").insert([{user_id:T().user.id,title:s,is_complete:!1,description:a}])},async deleteTask(s){await _.from("task").delete().eq("id",s)}},persist:{enabled:!0,strategies:[{key:"user",storage:localStorage}]}});const O=s=>(k("data-v-77863795"),s=s(),v(),s),Q={class:"task-component is-3 bg-white"},D=O(()=>t("h2",null,"New task",-1)),F={class:"task-container"},L={class:"task-element"},X={class:"task-element"},q={__name:"TaskCreator",setup(s){const a=h(),o=p(""),e=p(""),i=r=>{r.preventDefault(),console.log("AQUIII",e.value),console.log("ALLAAAA",o.value),!e.value==""&&!o.value==""&&a.addTask(e.value,o.value),e.value="",o.value=""};return(r,n)=>(c(),l("div",Q,[D,t("form",F,[t("div",L,[b(" Title "),g(t("input",{"onUpdate:modelValue":n[0]||(n[0]=d=>e.value=d),class:"text task-input bg-grey",placeholder:"Title"},null,512),[[f,e.value]])]),t("div",X,[b(" Description "),g(t("textarea",{"onUpdate:modelValue":n[1]||(n[1]=d=>o.value=d),class:"textarea task-input bg-grey",placeholder:"Write thing to do"},null,512),[[f,o.value]])]),t("div",{class:"task-button"},[t("button",{onClick:i,class:"button bg-blackish"},"Create")])])]))}},M=m(q,[["__scopeId","data-v-77863795"]]);const x=s=>(k("data-v-f9517fb8"),s=s(),v(),s),R={class:"task-delete"},E=x(()=>t("span",{class:"material-symbols-outlined"}," close ",-1)),G=[E],H={class:"task-info"},K={class:"task-title"},W={key:0,class:"material-symbols-outlined"},P={key:1,class:"material-symbols-outlined"},ss={class:"title"},ts={class:"task-content"},es={class:"description"},as=x(()=>t("div",{class:"task-actions"},[t("button",null,[t("span",{class:"material-symbols-outlined"}," edit ")])],-1)),os={__name:"Tasks",props:["task"],setup(s){const a=s,o=h(),e=p(!1),i=async()=>{await o.deleteTask(a.task.id),o.getTasks()};return(r,n)=>(c(),l("div",{class:"card is-3 border-blackish",style:C(e.value?{"background-color":"var(--green)"}:{"background-color":"#ffffff"})},[t("div",R,[t("button",{onClick:n[0]||(n[0]=d=>i())},G)]),t("div",H,[t("div",K,[t("button",{onClick:n[1]||(n[1]=d=>e.value=!e.value)},[e.value?(c(),l("span",W," select_check_box ")):(c(),l("span",P," check_box_outline_blank "))]),t("span",ss,y(a.task.title),1)]),t("div",ts,[t("span",es,y(a.task.description),1)]),as])],4))}},ns=m(os,[["__scopeId","data-v-f9517fb8"]]),is={__name:"Home",setup(s){const a=h();return a.getTasks(),(o,e)=>(c(),l(I,null,[u(Z),t("section",null,[u(M),(c(!0),l(I,null,N(A(a).task,i=>(c(),l("div",null,[u(ns,{task:i},null,8,["task"])]))),256))])],64))}};export{is as default};
